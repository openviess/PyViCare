---
    name: Linting

    # yamllint disable-line rule:truthy
    on:
      push:
        branches:
          - main
      pull_request:
      workflow_dispatch:

    env:
      DEFAULT_PYTHON: "3.11"

    jobs:
      codespell:
        name: codespell
        runs-on: ubuntu-latest
        steps:
          - name: â¤µï¸ Check out code from GitHub
            uses: actions/checkout@v4.1.7
          - name: ğŸ— Set up Poetry
            run: pipx install poetry
          - name: ğŸ— Set up Python ${{ env.DEFAULT_PYTHON }}
            id: python
            uses: actions/setup-python@v5.1.1
            with:
              python-version: ${{ env.DEFAULT_PYTHON }}
              cache: "poetry"
          - name: ğŸ— Install workflow dependencies
            run: |
              poetry config virtualenvs.create true
              poetry config virtualenvs.in-project true
          - name: ğŸ— Install Python dependencies
            run: poetry install --no-interaction
          - name: ğŸš€ Check code for common misspellings
            run: poetry run codespell **/*.py

      ruff:
        name: Ruff
        runs-on: ubuntu-latest
        steps:
          - name: â¤µï¸ Check out code from GitHub
            uses: actions/checkout@v4.1.7
          - name: ğŸ— Set up Poetry
            run: pipx install poetry
          - name: ğŸ— Set up Python ${{ env.DEFAULT_PYTHON }}
            id: python
            uses: actions/setup-python@v5.1.1
            with:
              python-version: ${{ env.DEFAULT_PYTHON }}
              cache: "poetry"
          - name: ğŸ— Install workflow dependencies
            run: |
              poetry config virtualenvs.create true
              poetry config virtualenvs.in-project true
          - name: ğŸ— Install Python dependencies
            run: poetry install --no-interaction
          - name: ğŸš€ Run ruff linter
            run: poetry run ruff check --output-format=github .
#          - name: ğŸš€ Run ruff formatter
#            run: poetry run ruff format --check .

      pylint:
        name: pylint
        runs-on: ubuntu-latest
        steps:
          - name: â¤µï¸ Check out code from GitHub
            uses: actions/checkout@v4.1.7
          - name: ğŸ— Set up Poetry
            run: pipx install poetry
          - name: ğŸ— Set up Python ${{ env.DEFAULT_PYTHON }}
            id: python
            uses: actions/setup-python@v5.1.1
            with:
              python-version: ${{ env.DEFAULT_PYTHON }}
              cache: "poetry"
          - name: ğŸ— Install workflow dependencies
            run: |
              poetry config virtualenvs.create true
              poetry config virtualenvs.in-project true
          - name: ğŸ— Install Python dependencies
            run: poetry install --no-interaction
          - name: ğŸš€ Run pylint
            run: poetry run pylint **/*.py
